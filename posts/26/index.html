
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>kk Blog —— 通用基础</title>

  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="kk Blog —— 通用基础" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/category.js" type="text/javascript"></script>

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">kk Blog —— 通用基础</a></h1>
  
    <h2>慢慢搬迁中......</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
<li>
<form action="/search" method="get">
    <input class="search" name="query" type="text" placeholder="Search..." x-webkit-speech />
    <input id="btnSubmit" value="search" type="submit">
</form>
</li>
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2011/11/29/tools-ptrace-i/">Playing with ptrace, Part I — 玩转ptrace(一)</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-11-29T19:20:00+08:00'><span class='date'>2011-11-29</span> <span class='time'>19:20:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.kgdb.info/gdb/playing_with_ptrace_part_i/">原文</a><br/>
版权所有 © 转载时必须以链接形式注明作者和原始出处！</p>

<p> Playing with ptrace, Part I<br/>
by Pradeep Padala <a href="&#x6d;&#97;&#105;&#x6c;&#116;&#111;&#58;&#112;&#95;&#x70;&#97;&#x64;&#x61;&#108;&#97;&#64;&#x79;&#97;&#x68;&#111;&#111;&#x2e;&#99;&#111;&#109;">&#112;&#95;&#x70;&#97;&#x64;&#97;&#x6c;&#x61;&#x40;&#121;&#97;&#x68;&#111;&#111;&#46;&#99;&#111;&#x6d;</a> <a href="http://www.cise.ufl.edu/~ppadala  ">http://www.cise.ufl.edu/~ppadala  </a>
Created 2002-11-01 02:00</p>

<p>翻译: Magic.D E-mail: adamgic@163.com<br/>
译者序：</p>

<p>在开发Hust Online Judge的过程中，查阅了不少资料，关于调试器技术的资料在网上是很少，即便是UNIX编程巨著《UNIX环境高级编程》中，相关内容也不多，直到我在 <a href="http://www.linuxjournal.com">http://www.linuxjournal.com</a> 上找到这篇文章，如获至宝，特翻译之，作为鄙人翻译技术文档的第一次尝试，必定会有不少蹩脚之处，各位就将就一下吧，欢迎大力拍砖。</p>

<p>你想过怎么实现对系统调用的拦截吗？你尝试过通过改变系统调用的参数来愚弄你的系统kernel吗？你想过调试器是如何使运行中的进程暂停并且控制它吗？</p>

<p>你可能会开始考虑怎么使用复杂的kernel编程来达到目的，那么，你错了。实际上Linux提供了一种优雅的机制来完成这些：ptrace系统函数。 ptrace提供了一种使父进程得以监视和控制其它进程的方式，它还能够改变子进程中的寄存器和内核映像，因而可以实现断点调试和系统调用的跟踪。</p>

<p>使用ptrace，你可以在用户层拦截和修改系统调用(sys call)</p>

<p>在这篇文章中，我们将学习如何拦截一个系统调用，然后修改它的参数。在本文的第二部分我们将学习更先进的技术：设置断点，插入代码到一个正在运行的程序中；我们将潜入到机器内部，偷窥和纂改进程的寄存器和数据段。</p>

<h4>基本知识</h4>

<p>操作系统提供了一种标准的服务来让程序员实现对底层硬件和服务的控制（比如文件系统），叫做系统调用(system calls)。当一个程序需要作系统调用的时候，它将相关参数放进系统调用相关的寄存器，然后调用软中断0×80，这个中断就像一个让程序得以接触到内核模式的窗口，程序将参数和系统调用号交给内核，内核来完成系统调用的执行。</p>

<p>在i386体系中(本文中所有的代码都是面向i386体系)，系统调用号将放入%eax,它的参数则依次放入%ebx, %ecx, %edx, %esi 和 %edi。 比如，在以下的调用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Write(2, “Hello”, 5)</span></code></pre></td></tr></table></div></figure>


<p>的汇编形式大概是这样的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>movl $4, %eax
</span><span class='line'>movl $2, %ebx
</span><span class='line'>movl $hello, %ecx
</span><span class='line'>movl $5, %edx
</span><span class='line'>int $0×80</span></code></pre></td></tr></table></div></figure>


<p>这里的$hello指向的是标准字符串”Hello”。</p>

<p>那么，ptrace会在什么时候出现呢？在执行系统调用之前，内核会先检查当前进程是否处于被“跟踪”(traced)的状态。如果是的话，内核暂停当前进程并将控制权交给跟踪进程，使跟踪进程得以察看或者修改被跟踪进程的寄存器。</p>

<p>让我们来看一个例子，演示这个跟踪程序的过程</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include &lt;sys/ptrace.h&gt;
</span><span class='line'>#include &lt;sys/types.h&gt;
</span><span class='line'>#include &lt;sys/wait.h&gt;
</span><span class='line'>#include &lt;unistd.h&gt;
</span><span class='line'>#include &lt;linux/user.h&gt;   /* For constants
</span><span class='line'>                               ORIG_EAX etc */
</span><span class='line'>int main()
</span><span class='line'>{
</span><span class='line'>    pid_t child;
</span><span class='line'>    long orig_eax;
</span><span class='line'>    child = fork();
</span><span class='line'>    if(child ==0){
</span><span class='line'>        ptrace(PTRACE_TRACEME,0, NULL, NULL);
</span><span class='line'>        execl("/bin/ls","ls", NULL);
</span><span class='line'>    } else {
</span><span class='line'>        wait(NULL);
</span><span class='line'>        orig_eax = ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                      child,4* ORIG_EAX,
</span><span class='line'>                      NULL);
</span><span class='line'>        printf("The child made a "
</span><span class='line'>            "system call %ld\n", orig_eax);
</span><span class='line'>        ptrace(PTRACE_CONT, child, NULL, NULL);
</span><span class='line'>    }
</span><span class='line'>    return0;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>运行这个程序，将会在输出ls命令的结果的同时，输出:
The child made a system call 11</p>

<p>说明：11是execve的系统调用号，这是该程序调用的第一个系统调用。<br/>
想知道系统调用号的详细内容，察看 /usr/include/asm/unistd.h。</p>

<p>在以上的示例中，父进程fork出了一个子进程，然后跟踪它。在调用exec函数之前，子进程用PTRACE_TRACEME作为第一个参数调用了 ptrace函数，它告诉内核：让别人跟踪我吧！然后，在子进程调用了execve()之后，它将控制权交还给父进程。当时父进程正使用wait()函数来等待来自内核的通知，现在它得到了通知，于是它可以开始察看子进程都作了些什么，比如看看寄存器的值之类。</p>

<p>出现系统调用之后，内核会将eax中的值（此时存的是系统调用号）保存起来，我们可以使用PTRACE_PEEKUSER作为ptrace的第一个参数来读到这个值。<br/>
我们察看完系统调用的信息后，可以使用PTRACE_CONT作为ptrace的第一个参数，调用ptrace使子进程继续系统调用的过程。<br/>
ptrace函数的参数<br/>
Ptrace有四个参数</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>long ptrace(enum __ptrace_request request,
</span><span class='line'>pid_t pid,
</span><span class='line'>void *addr,
</span><span class='line'>void *data);</span></code></pre></td></tr></table></div></figure>


<p>第一个参数决定了ptrace的行为与其它参数的使用方法，可取的值有:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PTRACE_ME
</span><span class='line'>PTRACE_PEEKTEXT
</span><span class='line'>PTRACE_PEEKDATA
</span><span class='line'>PTRACE_PEEKUSER
</span><span class='line'>PTRACE_POKETEXT
</span><span class='line'>PTRACE_POKEDATA
</span><span class='line'>PTRACE_POKEUSER
</span><span class='line'>PTRACE_GETREGS
</span><span class='line'>PTRACE_GETFPREGS,
</span><span class='line'>PTRACE_SETREGS
</span><span class='line'>PTRACE_SETFPREGS
</span><span class='line'>PTRACE_CONT
</span><span class='line'>PTRACE_SYSCALL,
</span><span class='line'>PTRACE_SINGLESTEP
</span><span class='line'>PTRACE_DETACH</span></code></pre></td></tr></table></div></figure>


<p>在下文中将对这些常量的用法进行说明。<br/>
读取系统调用的参数</p>

<p>通过将PTRACE_PEEKUSER作为ptrace 的第一个参数进行调用，可以取得与子进程相关的寄存器值。</p>

<p>先看下面这个例子</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include &lt;sys/ptrace.h&gt;
</span><span class='line'>#include &lt;sys/types.h&gt;
</span><span class='line'>#include &lt;sys/wait.h&gt;
</span><span class='line'>#include &lt;unistd.h&gt;
</span><span class='line'>#include &lt;linux/user.h&gt;
</span><span class='line'>#include &lt;sys/syscall.h&gt;   /* For SYS_write etc */
</span><span class='line'>int main()
</span><span class='line'>{
</span><span class='line'>    pid_t child;
</span><span class='line'>    long orig_eax, eax;
</span><span class='line'>    long params[3];
</span><span class='line'>    int status;
</span><span class='line'>    int insyscall =0;
</span><span class='line'>    child = fork();
</span><span class='line'>    if(child ==0){
</span><span class='line'>        ptrace(PTRACE_TRACEME,0, NULL, NULL);
</span><span class='line'>        execl("/bin/ls","ls", NULL);
</span><span class='line'>    } else {
</span><span class='line'>        while(1) {
</span><span class='line'>            wait(&status);
</span><span class='line'>            if(WIFEXITED(status))
</span><span class='line'>            break;
</span><span class='line'>              orig_eax = ptrace(PTRACE_PEEKUSER,
</span><span class='line'>            child,4* ORIG_EAX, NULL);
</span><span class='line'>            if(orig_eax == SYS_write) {
</span><span class='line'>                if(insyscall == 0) {
</span><span class='line'>                    /* Syscall entry */
</span><span class='line'>                        insyscall =1;
</span><span class='line'>                        params[0]= ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                                       child,4* EBX,
</span><span class='line'>                                       NULL);
</span><span class='line'>                        params[1]= ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                                       child,4* ECX,
</span><span class='line'>                                       NULL);
</span><span class='line'>                        params[2]= ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                         child,4* EDX,
</span><span class='line'>                        NULL);
</span><span class='line'>                    printf("Write called with "
</span><span class='line'>                        "%ld, %ld, %ld\n",
</span><span class='line'>                        params[0], params[1],
</span><span class='line'>                        params[2]);
</span><span class='line'>                } else {/* Syscall exit */
</span><span class='line'>                    eax = ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                        child,4* EAX, NULL);
</span><span class='line'>                    printf("Write returned "
</span><span class='line'>                        "with %ld\n", eax);
</span><span class='line'>                            insyscall =0;
</span><span class='line'>                }
</span><span class='line'>            }
</span><span class='line'>            ptrace(PTRACE_SYSCALL,
</span><span class='line'>                child, NULL, NULL);
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return0;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>这个程序的输出是这样的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ppadala@linux:~/ptrace &gt; ls
</span><span class='line'>a.out        dummy.s      ptrace.txt
</span><span class='line'>libgpm.html  registers.c  syscallparams.c
</span><span class='line'>dummy        ptrace.html  simple.c
</span><span class='line'>ppadala@linux:~/ptrace &gt; ./a.out
</span><span class='line'>Write called with 1,1075154944,48
</span><span class='line'>a.out        dummy.s      ptrace.txt
</span><span class='line'>Write returned with 48
</span><span class='line'>Write called with 1,1075154944,59
</span><span class='line'>libgpm.html  registers.c  syscallparams.c
</span><span class='line'>Write returned with 59
</span><span class='line'>Write called with 1,1075154944,30
</span><span class='line'>dummy        ptrace.html  simple.c
</span><span class='line'>Write returned with 30</span></code></pre></td></tr></table></div></figure>


<p>以上的例子中我们跟踪了write系统调用，而ls命令的执行将产生三个write系统调用。使用PTRACE_SYSCALL作为ptrace的第一个参数，使内核在子进程做出系统调用或者准备退出的时候暂停它。这种行为与使用PTRACE_CONT，然后在下一个系统调用/进程退出时暂停它是等价的。</p>

<p>在前一个例子中，我们用PTRACE_PEEKUSER来察看write系统调用的参数。系统调用的返回值会被放入%eax。</p>

<p>wait函数使用status变量来检查子进程是否已退出。它是用来判断子进程是被ptrace暂停掉还是已经运行结束并退出。有一组宏可以通过status的值来判断进程的状态，比如WIFEXITED等，详情可以察看wait(2) man。
读取寄存器的值</p>

<p>如果你想在系统调用或者进程终止的时候读取它的寄存器，使用前面那个例子的方法是可以的，但是这是笨拙的方法。使用PRACE_GETREGS作为ptrace的第一个参数来调用，可以只需一次函数调用就取得所有的相关寄存器值。
获得寄存器值得例子如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include &lt;sys/ptrace.h&gt;
</span><span class='line'>#include &lt;sys/types.h&gt;
</span><span class='line'>#include &lt;sys/wait.h&gt;
</span><span class='line'>#include &lt;unistd.h&gt;
</span><span class='line'>#include &lt;linux/user.h&gt;
</span><span class='line'>#include &lt;sys/syscall.h&gt;
</span><span class='line'>int main()
</span><span class='line'>{
</span><span class='line'>    pid_t child;
</span><span class='line'>    long orig_eax, eax;
</span><span class='line'>    long params[3];
</span><span class='line'>    int status;
</span><span class='line'>    int insyscall =0;
</span><span class='line'>    struct user_regs_struct regs;
</span><span class='line'>    child = fork();
</span><span class='line'>    if(child == 0) {
</span><span class='line'>        ptrace(PTRACE_TRACEME,0, NULL, NULL);
</span><span class='line'>        execl("/bin/ls","ls", NULL);
</span><span class='line'>    } else {
</span><span class='line'>        while(1) {
</span><span class='line'>            wait(&status);
</span><span class='line'>            if(WIFEXITED(status))
</span><span class='line'>            break;
</span><span class='line'>            orig_eax = ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                child,4* ORIG_EAX,
</span><span class='line'>                NULL);
</span><span class='line'>            if(orig_eax == SYS_write) {
</span><span class='line'>                if(insyscall == 0) {
</span><span class='line'>                    /* Syscall entry */
</span><span class='line'>                    insyscall =1;
</span><span class='line'>                    ptrace(PTRACE_GETREGS, child,
</span><span class='line'>                        NULL,&regs);
</span><span class='line'>                    printf("Write called with "
</span><span class='line'>                        "%ld, %ld, %ld\n",
</span><span class='line'>                        regs.ebx, regs.ecx,
</span><span class='line'>                        regs.edx);
</span><span class='line'>                } else { /* Syscall exit */
</span><span class='line'>                    eax = ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                        child,4* EAX,
</span><span class='line'>                        NULL);
</span><span class='line'>                    printf("Write returned "
</span><span class='line'>                        "with %ld\n", eax);
</span><span class='line'>                        insyscall =0;
</span><span class='line'>                }
</span><span class='line'>            }
</span><span class='line'>            ptrace(PTRACE_SYSCALL, child,
</span><span class='line'>                NULL, NULL);
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return0;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>这段代码与前面的例子是比较相似的，不同的是它使用了PTRACE_GETREGS。 其中的user_regs_struct结构是在中定义的。<br/>
来点好玩的</p>

<p>现在该做点有意思的事情了，我们将要把传给write系统调用的字符串给反转。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include &lt;sys/ptrace.h&gt;
</span><span class='line'>#include &lt;sys/types.h&gt;
</span><span class='line'>#include &lt;sys/wait.h&gt;
</span><span class='line'>#include &lt;unistd.h&gt;
</span><span class='line'>#include &lt;linux/user.h&gt;
</span><span class='line'>#include &lt;sys/syscall.h&gt;
</span><span class='line'>constint long_size =sizeof(long);
</span><span class='line'>void reverse(char*str)
</span><span class='line'>{
</span><span class='line'>    int i, j;
</span><span class='line'>    char temp;
</span><span class='line'>    for(i =0, j = strlen(str)-2;
</span><span class='line'>        i &lt;= j;++i,--j){
</span><span class='line'>        temp = str[i];
</span><span class='line'>        str[i]= str[j];
</span><span class='line'>        str[j]= temp;
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>void getdata(pid_t child,long addr, char*str,int len)
</span><span class='line'>{
</span><span class='line'>    char*laddr;
</span><span class='line'>    int i, j;
</span><span class='line'>    union u {
</span><span class='line'>        long val;
</span><span class='line'>        char chars[long_size];
</span><span class='line'>    } data;
</span><span class='line'>    i =0;
</span><span class='line'>    j = len / long_size;
</span><span class='line'>    laddr = str;
</span><span class='line'>    while(i &lt; j) {
</span><span class='line'>        data.val= ptrace(PTRACE_PEEKDATA,
</span><span class='line'>            child, addr + i *4,
</span><span class='line'>            NULL);
</span><span class='line'>        memcpy(laddr, data.chars, long_size);
</span><span class='line'>        ++i;
</span><span class='line'>        laddr += long_size;
</span><span class='line'>    }
</span><span class='line'>    j = len % long_size;
</span><span class='line'>    if(j != 0) {
</span><span class='line'>        data.val= ptrace(PTRACE_PEEKDATA,
</span><span class='line'>            child, addr + i *4,
</span><span class='line'>            NULL);
</span><span class='line'>        memcpy(laddr, data.chars, j);
</span><span class='line'>    }
</span><span class='line'>    str[len]='\0';
</span><span class='line'>}
</span><span class='line'>void putdata(pid_t child,long addr, char*str,int len)
</span><span class='line'>{
</span><span class='line'>    char*laddr;
</span><span class='line'>    int i, j;
</span><span class='line'>    union u {
</span><span class='line'>        long val;
</span><span class='line'>        char chars[long_size];
</span><span class='line'>    } data;
</span><span class='line'>    i =0;
</span><span class='line'>    j = len / long_size;
</span><span class='line'>    laddr = str;
</span><span class='line'>    while(i &lt; j) {
</span><span class='line'>        memcpy(data.chars, laddr, long_size);
</span><span class='line'>        ptrace(PTRACE_POKEDATA, child,
</span><span class='line'>            addr + i *4, data.val);
</span><span class='line'>            ++i;
</span><span class='line'>        laddr += long_size;
</span><span class='line'>    }
</span><span class='line'>    j = len % long_size;
</span><span class='line'>    if(j != 0) {
</span><span class='line'>        memcpy(data.chars, laddr, j);
</span><span class='line'>        ptrace(PTRACE_POKEDATA, child,
</span><span class='line'>        addr + i *4, data.val);
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>int main()
</span><span class='line'>{
</span><span class='line'>    pid_t child;
</span><span class='line'>    child = fork();
</span><span class='line'>    if(child ==0){
</span><span class='line'>        ptrace(PTRACE_TRACEME,0, NULL, NULL);
</span><span class='line'>        execl("/bin/ls","ls", NULL);
</span><span class='line'>    } else {
</span><span class='line'>        long orig_eax;
</span><span class='line'>        long params[3];
</span><span class='line'>        int status;
</span><span class='line'>        char*str,*laddr;
</span><span class='line'>        int toggle =0;
</span><span class='line'>        while(1) {
</span><span class='line'>            wait(&status);
</span><span class='line'>            if(WIFEXITED(status))
</span><span class='line'>            break;
</span><span class='line'>            orig_eax = ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                child,4* ORIG_EAX,
</span><span class='line'>                NULL);
</span><span class='line'>            if(orig_eax == SYS_write){
</span><span class='line'>                if(toggle ==0){
</span><span class='line'>                toggle =1;
</span><span class='line'>                params[0]= ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                    child,4* EBX,
</span><span class='line'>                    NULL);
</span><span class='line'>                params[1]= ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                    child,4* ECX,
</span><span class='line'>                    NULL);
</span><span class='line'>                params[2]= ptrace(PTRACE_PEEKUSER,
</span><span class='line'>                    child,4* EDX,
</span><span class='line'>                    NULL);
</span><span class='line'>                str =(char*)calloc((params[2]+1) * sizeof(char));
</span><span class='line'>                getdata(child, params[1], str, params[2]);
</span><span class='line'>                reverse(str);
</span><span class='line'>                putdata(child, params[1], str, params[2]);
</span><span class='line'>            } else {
</span><span class='line'>                toggle =0;
</span><span class='line'>            }
</span><span class='line'>        }
</span><span class='line'>        ptrace(PTRACE_SYSCALL, child, NULL, NULL);
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return0;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>输出是这样的：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ppadala@linux:~/ptrace &gt; ls
</span><span class='line'>a.out dummy.s ptrace.txt
</span><span class='line'>libgpm.html registers.c syscallparams.c
</span><span class='line'>dummy ptrace.html simple.c
</span><span class='line'>ppadala@linux:~/ptrace &gt; ./a.out
</span><span class='line'>txt.ecartp s.ymmud tuo.a
</span><span class='line'>c.sretsiger lmth.mpgbil c.llacys_egnahc
</span><span class='line'>c.elpmis lmth.ecartp ymmud</span></code></pre></td></tr></table></div></figure>


<p>这个例子中涵盖了前面讨论过的所有知识点，当然还有些新的内容。这里我们用PTRACE_POKEDATA作为第一个参数，以此来改变子进程中的变量值。它以与PTRACE_PEEKDATA相似的方式工作，当然，它不只是偷窥变量的值了，它可以修改它们。</p>

<h4>单步</h4>

<p>ptrace 提供了对子进程进行单步的功能。 ptrace(PTRACE_SINGLESTEP, …) 会使内核在子进程的每一条指令执行前先将其阻塞，然后将控制权交给父进程。下面的例子可以查出子进程当前将要执行的指令。为了便于理解，我用汇编写了这个受控程序，而不是让你为c的库函数到底会作那些系统调用而头痛。</p>

<p>以下是被控程序的代码 dummy1.s，使用gcc –o dummy1 dummy1.s来编译</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>.data
</span><span class='line'>hello:
</span><span class='line'>    .string"hello world\n"
</span><span class='line'>.globl main
</span><span class='line'>main:
</span><span class='line'>    movl $4,%eax
</span><span class='line'>    movl $2,%ebx
</span><span class='line'>    movl $hello,%ecx
</span><span class='line'>    movl $12,%edx
</span><span class='line'>int $0x80
</span><span class='line'>    movl $1,%eax
</span><span class='line'>    xorl %ebx,%ebx
</span><span class='line'>int $0x80
</span><span class='line'>    ret</span></code></pre></td></tr></table></div></figure>


<p>以下的程序则用来完成单步</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include &lt;sys/ptrace.h&gt;
</span><span class='line'>#include &lt;sys/types.h&gt;
</span><span class='line'>#include &lt;sys/wait.h&gt;
</span><span class='line'>#include &lt;unistd.h&gt;
</span><span class='line'>#include &lt;linux/user.h&gt;
</span><span class='line'>#include &lt;sys/syscall.h&gt;
</span><span class='line'>int main()
</span><span class='line'>{
</span><span class='line'>    pid_t child;
</span><span class='line'>    const int long_size =sizeof(long);
</span><span class='line'>    child = fork();
</span><span class='line'>    if(child ==0){
</span><span class='line'>        ptrace(PTRACE_TRACEME,0, NULL, NULL);
</span><span class='line'>        execl("./dummy1","dummy1", NULL);
</span><span class='line'>    } else {
</span><span class='line'>        int status;
</span><span class='line'>        union u {
</span><span class='line'>        long val;
</span><span class='line'>        char chars[long_size];
</span><span class='line'>    } data;
</span><span class='line'>    struct user_regs_struct regs;
</span><span class='line'>    int start =0;
</span><span class='line'>    long ins;
</span><span class='line'>    while(1) {
</span><span class='line'>        wait(&status);
</span><span class='line'>        if(WIFEXITED(status))
</span><span class='line'>        break;
</span><span class='line'>        ptrace(PTRACE_GETREGS, child, NULL,&regs);
</span><span class='line'>        if(start ==1){
</span><span class='line'>            ins = ptrace(PTRACE_PEEKTEXT,
</span><span class='line'>                child, regs.eip,
</span><span class='line'>                NULL);
</span><span class='line'>            printf("EIP: %lx Instruction executed: %lx ",
</span><span class='line'>                regs.eip, ins);
</span><span class='line'>        }
</span><span class='line'>        if(regs.orig_eax== SYS_write){
</span><span class='line'>            start =1;
</span><span class='line'>            ptrace(PTRACE_SINGLESTEP, child, NULL, NULL);
</span><span class='line'>        }
</span><span class='line'>        else
</span><span class='line'>            ptrace(PTRACE_SYSCALL, child, NULL, NULL);
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>    return0;
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>程序的输出是这样的：<br/>
你可能需要察看Intel的用户手册来了解这些指令代码的意思。<br/>
更复杂的单步，比如设置断点，则需要很仔细的设计和更复杂的代码才可以实现。</p>

<p>在第二部分，我们将会看到如何在程序中加入断点，以及将代码插入到已经在运行的程序中</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2011/11/29/tools-ptrace/">linux ptrace函数</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-11-29T19:05:00+08:00'><span class='date'>2011-11-29</span> <span class='time'>19:05:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include &lt;sys/ptrace.h&gt;
</span><span class='line'>int ptrace(int request, int pid, int addr, int data);</span></code></pre></td></tr></table></div></figure>


<h5>描述</h5>

<p>Ptrace提供了一种父进程可以控制子进程运行，并可以检查和改变它的核心image。它主要用于实现断点调试。一个被跟踪的进程运行中，直到发生一个信号。则进程被中止，并且通知其父进程。在进程中止的状态下，进程的内存空间可以被读写。父进程还可以使子进程继续执行，并选择是否是否忽略引起中止的信号。</p>

</div>
  
  
    <footer>
      <a rel="full-article" target="_blank" href="/blog/2011/11/29/tools-ptrace/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2011/08/27/assembly-base/">Linux 汇编基础</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-08-27T16:07:00+08:00'><span class='date'>2011-08-27</span> <span class='time'>16:07:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>绝顶好书<a href="/download/assembly/Professional_Assembly_Language.pdf">Professional_Assembly_Language</a></p>

<h4>一、简介</h4>

<p>作为最基本的编程语言之一，汇编语言虽然应用的范围不算很广，但重要性却勿庸置疑，因为它能够完成许多其它语言所无法完成的功能。就拿 Linux 内核来讲，虽然绝大部分代码是用 C 语言编写的，但仍然不可避免地在某些关键地方使用了汇编代码，其中主要是在 Linux 的启动部分。由于这部分代码与硬件的关系非常密切，即使是 C 语言也会有些力不从心，而汇编语言则能够很好扬长避短，最大限度地发挥硬件的性能。</p>

<p>大多数情况下 Linux 程序员不需要使用汇编语言，因为即便是硬件驱动这样的底层程序在 Linux 操作系统中也可以用完全用 C 语言来实现，再加上 GCC 这一优秀的编译器目前已经能够对最终生成的代码进行很好的优化，的确有足够的理由让我们可以暂时将汇编语言抛在一边了。但实现情况是 Linux 程序员有时还是需要使用汇编，或者不得不使用汇编，理由很简单：精简、高效和 libc 无关性。假设要移植 Linux 到某一特定的嵌入式硬件环境下，首先必然面临如何减少系统大小、提高执行效率等问题，此时或许只有汇编语言能帮上忙了。</p>

<p>汇编语言直接同计算机的底层软件甚至硬件进行交互，它具有如下一些优点：
能够直接访问与硬件相关的存储器或 I/O 端口； 能够不受编译器的限制，对生成的二进制代码进行完全的控制； 能够对关键代码进行更准确的控制，避免因线程共同访问或者硬件设备共享引起的死锁； 能够根据特定的应用对代码做最佳的优化，提高运行速度； 能够最大限度地发挥硬件的功能。</p>

<p>同时还应该认识到，汇编语言是一种层次非常低的语言，它仅仅高于直接手工编写二进制的机器指令码，因此不可避免地存在一些缺点：
编写的代码非常难懂，不好维护； 很容易产生 bug，难于调试； 只能针对特定的体系结构和处理器进行优化； 开发效率很低，时间长且单调。</p>

<p>Linux 下用汇编语言编写的代码具有两种不同的形式。第一种是完全的汇编代码，指的是整个程序全部用汇编语言编写。尽管是完全的汇编代码，Linux 平台下的汇编工具也吸收了 C 语言的长处，使得程序员可以使用 #include、#ifdef 等预处理指令，并能够通过宏定义来简化代码。第二种是内嵌的汇编代码，指的是可以嵌入到C语言程序中的汇编代码片段。虽然 ANSI 的 C 语言标准中没有关于内嵌汇编代码的相应规定，但各种实际使用的 C 编译器都做了这方面的扩充，这其中当然就包括 Linux 平台下的 GCC。</p>

</div>
  
  
    <footer>
      <a rel="full-article" target="_blank" href="/blog/2011/08/27/assembly-base/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2011/07/23/compiler-c-grammar/">C 语言文法 ( C Language Grammar )</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-07-23T13:43:00+08:00'><span class='date'>2011-07-23</span> <span class='time'>13:43:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
<span class='line-number'>319</span>
<span class='line-number'>320</span>
<span class='line-number'>321</span>
<span class='line-number'>322</span>
<span class='line-number'>323</span>
<span class='line-number'>324</span>
<span class='line-number'>325</span>
<span class='line-number'>326</span>
<span class='line-number'>327</span>
<span class='line-number'>328</span>
<span class='line-number'>329</span>
<span class='line-number'>330</span>
<span class='line-number'>331</span>
<span class='line-number'>332</span>
<span class='line-number'>333</span>
<span class='line-number'>334</span>
<span class='line-number'>335</span>
<span class='line-number'>336</span>
<span class='line-number'>337</span>
<span class='line-number'>338</span>
<span class='line-number'>339</span>
<span class='line-number'>340</span>
<span class='line-number'>341</span>
<span class='line-number'>342</span>
<span class='line-number'>343</span>
<span class='line-number'>344</span>
<span class='line-number'>345</span>
<span class='line-number'>346</span>
<span class='line-number'>347</span>
<span class='line-number'>348</span>
<span class='line-number'>349</span>
<span class='line-number'>350</span>
<span class='line-number'>351</span>
<span class='line-number'>352</span>
<span class='line-number'>353</span>
<span class='line-number'>354</span>
<span class='line-number'>355</span>
<span class='line-number'>356</span>
<span class='line-number'>357</span>
<span class='line-number'>358</span>
<span class='line-number'>359</span>
<span class='line-number'>360</span>
<span class='line-number'>361</span>
<span class='line-number'>362</span>
<span class='line-number'>363</span>
<span class='line-number'>364</span>
<span class='line-number'>365</span>
<span class='line-number'>366</span>
<span class='line-number'>367</span>
<span class='line-number'>368</span>
<span class='line-number'>369</span>
<span class='line-number'>370</span>
<span class='line-number'>371</span>
<span class='line-number'>372</span>
<span class='line-number'>373</span>
<span class='line-number'>374</span>
<span class='line-number'>375</span>
<span class='line-number'>376</span>
<span class='line-number'>377</span>
<span class='line-number'>378</span>
<span class='line-number'>379</span>
<span class='line-number'>380</span>
<span class='line-number'>381</span>
<span class='line-number'>382</span>
<span class='line-number'>383</span>
<span class='line-number'>384</span>
<span class='line-number'>385</span>
<span class='line-number'>386</span>
<span class='line-number'>387</span>
<span class='line-number'>388</span>
<span class='line-number'>389</span>
<span class='line-number'>390</span>
<span class='line-number'>391</span>
<span class='line-number'>392</span>
<span class='line-number'>393</span>
<span class='line-number'>394</span>
<span class='line-number'>395</span>
<span class='line-number'>396</span>
<span class='line-number'>397</span>
<span class='line-number'>398</span>
<span class='line-number'>399</span>
<span class='line-number'>400</span>
<span class='line-number'>401</span>
<span class='line-number'>402</span>
<span class='line-number'>403</span>
<span class='line-number'>404</span>
<span class='line-number'>405</span>
<span class='line-number'>406</span>
<span class='line-number'>407</span>
<span class='line-number'>408</span>
<span class='line-number'>409</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>%token IDENTIFIER CONSTANT STRING_LITERAL SIZEOF
</span><span class='line'>%token TYPE_NAME
</span><span class='line'>
</span><span class='line'>%token TYPEDEF EXTERN STATIC AUTO REGISTER
</span><span class='line'>%token CHAR SHORT INT LONG SIGNED UNSIGNED FLOAT DOUBLE CONST VOLATILE VOID
</span><span class='line'>%token STRUCT UNION ENUM
</span><span class='line'>
</span><span class='line'>%token CASE DEFAULT IF ELSE SWITCH WHILE DO FOR GOTO CONTINUE BREAK RETURN
</span><span class='line'>
</span><span class='line'>%start translation_unit
</span><span class='line'>%%
</span><span class='line'>translation_unit
</span><span class='line'>    : external_declaration
</span><span class='line'>    | translation_unit external_declaration
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>external_declaration
</span><span class='line'>    : function_definition
</span><span class='line'>    | declaration
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>function_definition
</span><span class='line'>    : declaration_specifiers declarator declaration_list compound_statement
</span><span class='line'>    | declaration_specifiers declarator compound_statement
</span><span class='line'>    | declarator declaration_list compound_statement
</span><span class='line'>    | declarator compound_statement
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>declaration_list
</span><span class='line'>    : declaration
</span><span class='line'>    | declaration_list declaration
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>declaration
</span><span class='line'>    : declaration_specifiers ';'
</span><span class='line'>    | declaration_specifiers init_declarator_list ';'
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>declaration_specifiers
</span><span class='line'>    : storage_class_specifier
</span><span class='line'>    | storage_class_specifier declaration_specifiers
</span><span class='line'>    | type_specifier
</span><span class='line'>    | type_specifier declaration_specifiers
</span><span class='line'>    | type_qualifier
</span><span class='line'>    | type_qualifier declaration_specifiers
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>specifier_qualifier_list
</span><span class='line'>    : type_specifier specifier_qualifier_list
</span><span class='line'>    | type_specifier
</span><span class='line'>    | type_qualifier specifier_qualifier_list
</span><span class='line'>    | type_qualifier
</span><span class='line'>            
</span><span class='line'>type_qualifier_list
</span><span class='line'>    : type_qualifier
</span><span class='line'>    | type_qualifier_list type_qualifier
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>type_qualifier
</span><span class='line'>    : CONST
</span><span class='line'>    | VOLATILE
</span><span class='line'>    ;
</span><span class='line'> 
</span><span class='line'>storage_class_specifier
</span><span class='line'>    : TYPEDEF
</span><span class='line'>    | EXTERN
</span><span class='line'>    | STATIC
</span><span class='line'>    | AUTO
</span><span class='line'>    | REGISTER
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>type_specifier
</span><span class='line'>    : VOID
</span><span class='line'>    | CHAR
</span><span class='line'>    | SHORT
</span><span class='line'>    | INT
</span><span class='line'>    | LONG
</span><span class='line'>    | FLOAT
</span><span class='line'>    | DOUBLE
</span><span class='line'>    | SIGNED
</span><span class='line'>    | UNSIGNED
</span><span class='line'>    | struct_or_union_specifier
</span><span class='line'>    | enum_specifier
</span><span class='line'>    | TYPE_NAME
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>struct_or_union_specifier
</span><span class='line'>    : struct_or_union IDENTIFIER '{' struct_declaration_list '}'
</span><span class='line'>    | struct_or_union '{' struct_declaration_list '}'
</span><span class='line'>    | struct_or_union IDENTIFIER
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>struct_or_union
</span><span class='line'>    : STRUCT
</span><span class='line'>    | UNION
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>struct_declaration_list
</span><span class='line'>    : struct_declaration
</span><span class='line'>    | struct_declaration_list struct_declaration
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>struct_declaration
</span><span class='line'>    : specifier_qualifier_list struct_declarator_list ';'
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>struct_declarator_list
</span><span class='line'>    : struct_declarator
</span><span class='line'>    | struct_declarator_list ',' struct_declarator
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>struct_declarator
</span><span class='line'>    : declarator
</span><span class='line'>    | ':' constant_expression
</span><span class='line'>    | declarator ':' constant_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>enum_specifier
</span><span class='line'>    : ENUM '{' enumerator_list '}'
</span><span class='line'>    | ENUM IDENTIFIER '{' enumerator_list '}'
</span><span class='line'>    | ENUM IDENTIFIER
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>enumerator_list
</span><span class='line'>    : enumerator
</span><span class='line'>    | enumerator_list ',' enumerator
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>enumerator
</span><span class='line'>    : IDENTIFIER
</span><span class='line'>    | IDENTIFIER '=' constant_expression
</span><span class='line'>    ;       
</span><span class='line'>    
</span><span class='line'>init_declarator_list
</span><span class='line'>    : init_declarator
</span><span class='line'>    | init_declarator_list ',' init_declarator
</span><span class='line'>    ;       
</span><span class='line'>
</span><span class='line'>init_declarator
</span><span class='line'>    : declarator
</span><span class='line'>    | declarator '=' initializer
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>initializer_list
</span><span class='line'>    : initializer
</span><span class='line'>    | initializer_list ',' initializer
</span><span class='line'>    ;        
</span><span class='line'>
</span><span class='line'>initializer
</span><span class='line'>    : assignment_expression
</span><span class='line'>    | '{' initializer_list '}'
</span><span class='line'>    | '{' initializer_list ',' '}'
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>parameter_type_list
</span><span class='line'>    : parameter_list
</span><span class='line'>    | parameter_list ',' '...'
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>parameter_list
</span><span class='line'>    : parameter_declaration
</span><span class='line'>    | parameter_list ',' parameter_declaration
</span><span class='line'>
</span><span class='line'>parameter_declaration
</span><span class='line'>    : declaration_specifiers declarator
</span><span class='line'>    | declaration_specifiers abstract_declarator
</span><span class='line'>    | declaration_specifiers
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>identifier_list
</span><span class='line'>    : IDENTIFIER
</span><span class='line'>    | identifier_list ',' IDENTIFIER
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>type_name
</span><span class='line'>    : specifier_qualifier_list
</span><span class='line'>    | specifier_qualifier_list abstract_declarator
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>abstract_declarator
</span><span class='line'>    : pointer
</span><span class='line'>    | direct_abstract_declarator
</span><span class='line'>    | pointer direct_abstract_declarator
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>direct_abstract_declarator
</span><span class='line'>    : '(' abstract_declarator ')'
</span><span class='line'>    | '[' ']'
</span><span class='line'>    | '[' constant_expression ']'
</span><span class='line'>    | direct_abstract_declarator '[' ']'
</span><span class='line'>    | direct_abstract_declarator '[' constant_expression ']'
</span><span class='line'>    | '(' ')'
</span><span class='line'>    | '(' parameter_type_list ')'
</span><span class='line'>    | direct_abstract_declarator '(' ')'
</span><span class='line'>    | direct_abstract_declarator '(' parameter_type_list ')'
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>declarator
</span><span class='line'>    : pointer direct_declarator
</span><span class='line'>    | direct_declarator
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>direct_declarator
</span><span class='line'>    : IDENTIFIER
</span><span class='line'>    | '(' declarator ')'
</span><span class='line'>    | direct_declarator '[' constant_expression ']'
</span><span class='line'>    | direct_declarator '[' ']'
</span><span class='line'>    | direct_declarator '(' parameter_type_list ')'
</span><span class='line'>    | direct_declarator '(' identifier_list ')'
</span><span class='line'>    | direct_declarator '(' ')'
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>pointer
</span><span class='line'>    : '*'
</span><span class='line'>    | '*' type_qualifier_list
</span><span class='line'>    | '*' pointer
</span><span class='line'>    | '*' type_qualifier_list pointer
</span><span class='line'>    ;        
</span><span class='line'>    
</span><span class='line'>statement
</span><span class='line'>    : labeled_statement
</span><span class='line'>    | compound_statement
</span><span class='line'>    | expression_statement
</span><span class='line'>    | selection_statement
</span><span class='line'>    | iteration_statement
</span><span class='line'>    | jump_statement
</span><span class='line'>    ;
</span><span class='line'>           
</span><span class='line'>labeled_statement
</span><span class='line'>    : IDENTIFIER ':' statement
</span><span class='line'>    | CASE constant_expression ':' statement
</span><span class='line'>    | DEFAULT ':' statement
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>compound_statement
</span><span class='line'>    : '{' '}'
</span><span class='line'>    | '{' statement_list '}'
</span><span class='line'>    | '{' declaration_list '}'
</span><span class='line'>    | '{' declaration_list statement_list '}'
</span><span class='line'>    ;        
</span><span class='line'>         
</span><span class='line'>statement_list
</span><span class='line'>    : statement
</span><span class='line'>    | statement_list statement
</span><span class='line'>    ;
</span><span class='line'>     
</span><span class='line'>expression_statement
</span><span class='line'>    : ';'
</span><span class='line'>    | expression ';'
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>selection_statement
</span><span class='line'>    : IF '(' expression ')' statement
</span><span class='line'>    | IF '(' expression ')' statement ELSE statement
</span><span class='line'>    | SWITCH '(' expression ')' statement
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>iteration_statement
</span><span class='line'>    : WHILE '(' expression ')' statement
</span><span class='line'>    | DO statement WHILE '(' expression ')' ';'
</span><span class='line'>    | FOR '(' expression_statement expression_statement ')' statement
</span><span class='line'>    | FOR '(' expression_statement expression_statement expression ')' statement
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>jump_statement
</span><span class='line'>    : GOTO IDENTIFIER ';'
</span><span class='line'>    | CONTINUE ';'
</span><span class='line'>    | BREAK ';'
</span><span class='line'>    | RETURN ';'
</span><span class='line'>    | RETURN expression ';'
</span><span class='line'>    ;        
</span><span class='line'>
</span><span class='line'>expression
</span><span class='line'>    : assignment_expression
</span><span class='line'>    | expression ',' assignment_expression
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>assignment_expression
</span><span class='line'>    : conditional_expression
</span><span class='line'>    | unary_expression assignment_operator assignment_expression
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>assignment_operator
</span><span class='line'>    : '='
</span><span class='line'>    | '*='
</span><span class='line'>    | '/='
</span><span class='line'>    | '%='
</span><span class='line'>    | '+='
</span><span class='line'>    | '-='
</span><span class='line'>    | '&lt;&lt;='
</span><span class='line'>    | '&gt;&gt;='
</span><span class='line'>    | '&='
</span><span class='line'>    | '^='
</span><span class='line'>    | '|='
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>constant_expression
</span><span class='line'>    : conditional_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>conditional_expression
</span><span class='line'>    : logical_or_expression
</span><span class='line'>    | logical_or_expression '?' expression ':' conditional_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>logical_or_expression
</span><span class='line'>    : logical_and_expression
</span><span class='line'>    | logical_or_expression '||' logical_and_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>logical_and_expression
</span><span class='line'>    : inclusive_or_expression
</span><span class='line'>    | logical_and_expression '&&' inclusive_or_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>inclusive_or_expression
</span><span class='line'>    : exclusive_or_expression
</span><span class='line'>    | inclusive_or_expression '|' exclusive_or_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>exclusive_or_expression
</span><span class='line'>    : and_expression
</span><span class='line'>    | exclusive_or_expression '^' and_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>and_expression
</span><span class='line'>    : equality_expression
</span><span class='line'>    | and_expression '&' equality_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>equality_expression
</span><span class='line'>    : relational_expression
</span><span class='line'>    | equality_expression '==' relational_expression
</span><span class='line'>    | equality_expression '!=' relational_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>relational_expression
</span><span class='line'>    : shift_expression
</span><span class='line'>    | relational_expression '&lt;' shift_expression
</span><span class='line'>    | relational_expression '&gt;' shift_expression
</span><span class='line'>    | relational_expression '&lt;=' shift_expression
</span><span class='line'>    | relational_expression '&gt;=' shift_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>shift_expression
</span><span class='line'>    : additive_expression
</span><span class='line'>    | shift_expression '&lt;&lt;' additive_expression
</span><span class='line'>    | shift_expression '&gt;&gt;' additive_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>additive_expression
</span><span class='line'>    : multiplicative_expression
</span><span class='line'>    | additive_expression '+' multiplicative_expression
</span><span class='line'>    | additive_expression '-' multiplicative_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>multiplicative_expression
</span><span class='line'>    : cast_expression
</span><span class='line'>    | multiplicative_expression '*' cast_expression
</span><span class='line'>    | multiplicative_expression '/' cast_expression
</span><span class='line'>    | multiplicative_expression '%' cast_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>cast_expression
</span><span class='line'>    : unary_expression
</span><span class='line'>    | '(' type_name ')' cast_expression
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>unary_expression
</span><span class='line'>    : postfix_expression
</span><span class='line'>    | '++' unary_expression
</span><span class='line'>    | '--' unary_expression
</span><span class='line'>    | unary_operator cast_expression
</span><span class='line'>    | SIZEOF unary_expression
</span><span class='line'>    | SIZEOF '(' type_name ')'
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>unary_operator
</span><span class='line'>    : '&'
</span><span class='line'>    | '*'
</span><span class='line'>    | '+'
</span><span class='line'>    | '-'
</span><span class='line'>    | '~'
</span><span class='line'>    | '!'
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>argument_expression_list
</span><span class='line'>    : assignment_expression
</span><span class='line'>    | argument_expression_list ',' assignment_expression
</span><span class='line'>    ;
</span><span class='line'>
</span><span class='line'>postfix_expression
</span><span class='line'>    : primary_expression
</span><span class='line'>    | postfix_expression '[' expression ']'
</span><span class='line'>    | postfix_expression '(' ')'
</span><span class='line'>    | postfix_expression '(' argument_expression_list ')'
</span><span class='line'>    | postfix_expression '.' IDENTIFIER
</span><span class='line'>    | postfix_expression '-&gt;' IDENTIFIER
</span><span class='line'>    | postfix_expression '++'
</span><span class='line'>    | postfix_expression '--'
</span><span class='line'>    ;
</span><span class='line'>    
</span><span class='line'>primary_expression
</span><span class='line'>    : IDENTIFIER
</span><span class='line'>    | CONSTANT
</span><span class='line'>    | STRING_LITERAL
</span><span class='line'>    | '(' expression ')'
</span><span class='line'>    ;
</span><span class='line'>%%</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h2 class="entry-title"><a href="/blog/2011/06/28/lang-java-eclipse-winbuild/">Eclipse安装Windowbuilder</a></h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-06-28T23:58:00+08:00'><span class='date'>2011-06-28</span> <span class='time'>23:58:00</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h5>也就是可以拖拉各种框框</h5>

<p>Eclipse安装Windowbuilder<br/>
<a href="http://code.google.com/intl/en/javadevtools/wbpro/installation/updatesite_3.5.html  ">http://code.google.com/intl/en/javadevtools/wbpro/installation/updatesite_3.5.html  </a>
根据Eclipse的版本选择不同的软件更新地址，比如3.5版本的为<br/>
<a href="http://dl.google.com/eclipse/inst/d2wbpro/latest/3.5">http://dl.google.com/eclipse/inst/d2wbpro/latest/3.5</a></p>

<h4>一.</h4>

<p><img src="/images/lang/20110628-1.png" alt="" /></p>

<h4>二.</h4>

<p><img src="/images/lang/20110628-2.png" alt="" />
选第三个图标 -> SWT -> &hellip;</p>

<h4>三.</h4>

<p>注意在 Source , Design , Bingings 之间切换
<img src="/images/lang/20110628-3.png" alt="" /></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/27">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/25">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Categories</h1>
<head>
</head>
<body>
<div id="menu">
<ul>
<li class='catclass'><a href='/blog/cats/language/'>language</a><a href='##' onmousedown=showDiv('language') id='aexp_language'><span class='exp_style' id='exp_language'>[+]</span></a><span class='right_span'>(28)</span></li>
<div id='language' class='catsub'><li><a href='/blog/cats/language~c/?opendiv=language'>c</a><a href='##' onmousedown=showDiv('language~c') id='aexp_language~c'><span class='exp_style' id='exp_language~c'>[+]</span></a><span class='right_span'>15</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('language~c')) document.getElementById('aexp_language~c').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/language~css/?opendiv=language'>css</a><a href='##' onmousedown=showDiv('language~css') id='aexp_language~css'><span class='exp_style' id='exp_language~css'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('language~css')) document.getElementById('aexp_language~css').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/language~java/?opendiv=language'>java</a><a href='##' onmousedown=showDiv('language~java') id='aexp_language~java'><span class='exp_style' id='exp_language~java'>[+]</span></a><span class='right_span'>11</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('language~java')) document.getElementById('aexp_language~java').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/language~php/?opendiv=language'>php</a><a href='##' onmousedown=showDiv('language~php') id='aexp_language~php'><span class='exp_style' id='exp_language~php'>[+]</span></a><span class='right_span'>1</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('language')) document.getElementById('aexp_language').style.visibility = 'hidden';
if (!document.getElementById('language~php')) document.getElementById('aexp_language~php').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/compiler/'>compiler</a><a href='##' onmousedown=showDiv('compiler') id='aexp_compiler'><span class='exp_style' id='exp_compiler'>[+]</span></a><span class='right_span'>(9)</span></li>
<div id='compiler' class='catsub'><li><a href='/blog/cats/compiler~base/?opendiv=compiler'>base</a><a href='##' onmousedown=showDiv('compiler~base') id='aexp_compiler~base'><span class='exp_style' id='exp_compiler~base'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('compiler~base')) document.getElementById('aexp_compiler~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/compiler~ld/?opendiv=compiler'>ld</a><a href='##' onmousedown=showDiv('compiler~ld') id='aexp_compiler~ld'><span class='exp_style' id='exp_compiler~ld'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('compiler~ld')) document.getElementById('aexp_compiler~ld').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/compiler~lib/?opendiv=compiler'>lib</a><a href='##' onmousedown=showDiv('compiler~lib') id='aexp_compiler~lib'><span class='exp_style' id='exp_compiler~lib'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('compiler~lib')) document.getElementById('aexp_compiler~lib').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/compiler~make/?opendiv=compiler'>make</a><a href='##' onmousedown=showDiv('compiler~make') id='aexp_compiler~make'><span class='exp_style' id='exp_compiler~make'>[+]</span></a><span class='right_span'>4</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('compiler')) document.getElementById('aexp_compiler').style.visibility = 'hidden';
if (!document.getElementById('compiler~make')) document.getElementById('aexp_compiler~make').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/assembly/'>assembly</a><a href='##' onmousedown=showDiv('assembly') id='aexp_assembly'><span class='exp_style' id='exp_assembly'>[+]</span></a><span class='right_span'>(2)</span></li>
<div id='assembly' class='catsub'><li><a href='/blog/cats/assembly~base/?opendiv=assembly'>base</a><a href='##' onmousedown=showDiv('assembly~base') id='aexp_assembly~base'><span class='exp_style' id='exp_assembly~base'>[+]</span></a><span class='right_span'>2</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('assembly')) document.getElementById('aexp_assembly').style.visibility = 'hidden';
if (!document.getElementById('assembly~base')) document.getElementById('aexp_assembly~base').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/system/'>system</a><a href='##' onmousedown=showDiv('system') id='aexp_system'><span class='exp_style' id='exp_system'>[+]</span></a><span class='right_span'>(46)</span></li>
<div id='system' class='catsub'><li><a href='/blog/cats/system~abrt/?opendiv=system'>abrt</a><a href='##' onmousedown=showDiv('system~abrt') id='aexp_system~abrt'><span class='exp_style' id='exp_system~abrt'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~abrt')) document.getElementById('aexp_system~abrt').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~android/?opendiv=system'>android</a><a href='##' onmousedown=showDiv('system~android') id='aexp_system~android'><span class='exp_style' id='exp_system~android'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~android')) document.getElementById('aexp_system~android').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~base/?opendiv=system'>base</a><a href='##' onmousedown=showDiv('system~base') id='aexp_system~base'><span class='exp_style' id='exp_system~base'>[+]</span></a><span class='right_span'>2</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~base')) document.getElementById('aexp_system~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~centos/?opendiv=system'>centos</a><a href='##' onmousedown=showDiv('system~centos') id='aexp_system~centos'><span class='exp_style' id='exp_system~centos'>[+]</span></a><span class='right_span'>2</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~centos')) document.getElementById('aexp_system~centos').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~command/?opendiv=system'>command</a><a href='##' onmousedown=showDiv('system~command') id='aexp_system~command'><span class='exp_style' id='exp_system~command'>[+]</span></a><span class='right_span'>7</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~command')) document.getElementById('aexp_system~command').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~freebsd/?opendiv=system'>freebsd</a><a href='##' onmousedown=showDiv('system~freebsd') id='aexp_system~freebsd'><span class='exp_style' id='exp_system~freebsd'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~freebsd')) document.getElementById('aexp_system~freebsd').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~mysql/?opendiv=system'>mysql</a><a href='##' onmousedown=showDiv('system~mysql') id='aexp_system~mysql'><span class='exp_style' id='exp_system~mysql'>[+]</span></a><span class='right_span'>6</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~mysql')) document.getElementById('aexp_system~mysql').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~rpm/?opendiv=system'>rpm</a><a href='##' onmousedown=showDiv('system~rpm') id='aexp_system~rpm'><span class='exp_style' id='exp_system~rpm'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~rpm')) document.getElementById('aexp_system~rpm').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~tools/?opendiv=system'>tools</a><a href='##' onmousedown=showDiv('system~tools') id='aexp_system~tools'><span class='exp_style' id='exp_system~tools'>[+]</span></a><span class='right_span'>20</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('system~tools')) document.getElementById('aexp_system~tools').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/system~ubuntu/?opendiv=system'>ubuntu</a><a href='##' onmousedown=showDiv('system~ubuntu') id='aexp_system~ubuntu'><span class='exp_style' id='exp_system~ubuntu'>[+]</span></a><span class='right_span'>5</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('system')) document.getElementById('aexp_system').style.visibility = 'hidden';
if (!document.getElementById('system~ubuntu')) document.getElementById('aexp_system~ubuntu').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/kernel/'>kernel</a><a href='##' onmousedown=showDiv('kernel') id='aexp_kernel'><span class='exp_style' id='exp_kernel'>[+]</span></a><span class='right_span'>(11)</span></li>
<div id='kernel' class='catsub'><li><a href='/blog/cats/kernel~base/?opendiv=kernel'>base</a><a href='##' onmousedown=showDiv('kernel~base') id='aexp_kernel~base'><span class='exp_style' id='exp_kernel~base'>[+]</span></a><span class='right_span'>5</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~base')) document.getElementById('aexp_kernel~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~kexec/?opendiv=kernel'>kexec</a><a href='##' onmousedown=showDiv('kernel~kexec') id='aexp_kernel~kexec'><span class='exp_style' id='exp_kernel~kexec'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~kexec')) document.getElementById('aexp_kernel~kexec').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~mm/?opendiv=kernel'>mm</a><a href='##' onmousedown=showDiv('kernel~mm') id='aexp_kernel~mm'><span class='exp_style' id='exp_kernel~mm'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel~mm')) document.getElementById('aexp_kernel~mm').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/kernel~net/?opendiv=kernel'>net</a><a href='##' onmousedown=showDiv('kernel~net') id='aexp_kernel~net'><span class='exp_style' id='exp_kernel~net'>[+]</span></a><span class='right_span'>2</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('kernel')) document.getElementById('aexp_kernel').style.visibility = 'hidden';
if (!document.getElementById('kernel~net')) document.getElementById('aexp_kernel~net').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/debug/'>debug</a><a href='##' onmousedown=showDiv('debug') id='aexp_debug'><span class='exp_style' id='exp_debug'>[+]</span></a><span class='right_span'>(31)</span></li>
<div id='debug' class='catsub'><li><a href='/blog/cats/debug~base/?opendiv=debug'>base</a><a href='##' onmousedown=showDiv('debug~base') id='aexp_debug~base'><span class='exp_style' id='exp_debug~base'>[+]</span></a><span class='right_span'>6</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~base')) document.getElementById('aexp_debug~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~debugedit/?opendiv=debug'>debugedit</a><a href='##' onmousedown=showDiv('debug~debugedit') id='aexp_debug~debugedit'><span class='exp_style' id='exp_debug~debugedit'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~debugedit')) document.getElementById('aexp_debug~debugedit').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~dwarf/?opendiv=debug'>dwarf</a><a href='##' onmousedown=showDiv('debug~dwarf') id='aexp_debug~dwarf'><span class='exp_style' id='exp_debug~dwarf'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~dwarf')) document.getElementById('aexp_debug~dwarf').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~gdb/?opendiv=debug'>gdb</a><a href='##' onmousedown=showDiv('debug~gdb') id='aexp_debug~gdb'><span class='exp_style' id='exp_debug~gdb'>[+]</span></a><span class='right_span'>5</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~gdb')) document.getElementById('aexp_debug~gdb').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~kdump,-crash/?opendiv=debug'>kdump、crash</a><a href='##' onmousedown=showDiv('debug~kdump、crash') id='aexp_debug~kdump、crash'><span class='exp_style' id='exp_debug~kdump、crash'>[+]</span></a><span class='right_span'>7</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~kdump、crash')) document.getElementById('aexp_debug~kdump、crash').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~kgdb/?opendiv=debug'>kgdb</a><a href='##' onmousedown=showDiv('debug~kgdb') id='aexp_debug~kgdb'><span class='exp_style' id='exp_debug~kgdb'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~kgdb')) document.getElementById('aexp_debug~kgdb').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~kprobe/?opendiv=debug'>kprobe</a><a href='##' onmousedown=showDiv('debug~kprobe') id='aexp_debug~kprobe'><span class='exp_style' id='exp_debug~kprobe'>[+]</span></a><span class='right_span'>4</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('debug~kprobe')) document.getElementById('aexp_debug~kprobe').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/debug~systemtap/?opendiv=debug'>systemtap</a><a href='##' onmousedown=showDiv('debug~systemtap') id='aexp_debug~systemtap'><span class='exp_style' id='exp_debug~systemtap'>[+]</span></a><span class='right_span'>2</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('debug')) document.getElementById('aexp_debug').style.visibility = 'hidden';
if (!document.getElementById('debug~systemtap')) document.getElementById('aexp_debug~systemtap').style.visibility = 'hidden';
</script>
<li><div style="background:#DDD; height:0.3em;"></div></li><li class='catclass'><a href='/blog/cats/algorithm/'>algorithm</a><a href='##' onmousedown=showDiv('algorithm') id='aexp_algorithm'><span class='exp_style' id='exp_algorithm'>[+]</span></a><span class='right_span'>(8)</span></li>
<div id='algorithm' class='catsub'><li><a href='/blog/cats/algorithm~base/?opendiv=algorithm'>base</a><a href='##' onmousedown=showDiv('algorithm~base') id='aexp_algorithm~base'><span class='exp_style' id='exp_algorithm~base'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm~base')) document.getElementById('aexp_algorithm~base').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/algorithm~ds/?opendiv=algorithm'>ds</a><a href='##' onmousedown=showDiv('algorithm~ds') id='aexp_algorithm~ds'><span class='exp_style' id='exp_algorithm~ds'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm~ds')) document.getElementById('aexp_algorithm~ds').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/algorithm~tc/?opendiv=algorithm'>tc</a><a href='##' onmousedown=showDiv('algorithm~tc') id='aexp_algorithm~tc'><span class='exp_style' id='exp_algorithm~tc'>[+]</span></a><span class='right_span'>2</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm~tc')) document.getElementById('aexp_algorithm~tc').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/algorithm~top/?opendiv=algorithm'>top</a><a href='##' onmousedown=showDiv('algorithm~top') id='aexp_algorithm~top'><span class='exp_style' id='exp_algorithm~top'>[+]</span></a><span class='right_span'>3</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm~top')) document.getElementById('aexp_algorithm~top').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/algorithm~tree/?opendiv=algorithm'>tree</a><a href='##' onmousedown=showDiv('algorithm~tree') id='aexp_algorithm~tree'><span class='exp_style' id='exp_algorithm~tree'>[+]</span></a><span class='right_span'>1</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('algorithm')) document.getElementById('aexp_algorithm').style.visibility = 'hidden';
if (!document.getElementById('algorithm~tree')) document.getElementById('aexp_algorithm~tree').style.visibility = 'hidden';
</script>
<li class='catclass'><a href='/blog/cats/blog/'>blog</a><a href='##' onmousedown=showDiv('blog') id='aexp_blog'><span class='exp_style' id='exp_blog'>[+]</span></a><span class='right_span'>(8)</span></li>
<div id='blog' class='catsub'><li><a href='/blog/cats/blog~hello/?opendiv=blog'>hello</a><a href='##' onmousedown=showDiv('blog~hello') id='aexp_blog~hello'><span class='exp_style' id='exp_blog~hello'>[+]</span></a><span class='right_span'>1</span></li>
<div id='blog~hello' class='catsub2'><li><a href='/blog/cats/blog~hello~hi/?opendiv=blog~hello'>hi</a><span class='right_span'>1</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('blog~hello')) document.getElementById('aexp_blog~hello').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/blog~jekyll/?opendiv=blog'>jekyll</a><a href='##' onmousedown=showDiv('blog~jekyll') id='aexp_blog~jekyll'><span class='exp_style' id='exp_blog~jekyll'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('blog~jekyll')) document.getElementById('aexp_blog~jekyll').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/blog~markdown/?opendiv=blog'>markdown</a><a href='##' onmousedown=showDiv('blog~markdown') id='aexp_blog~markdown'><span class='exp_style' id='exp_blog~markdown'>[+]</span></a><span class='right_span'>1</span></li>
<script language='javascript' type='text/javascript'>
if (!document.getElementById('blog~markdown')) document.getElementById('aexp_blog~markdown').style.visibility = 'hidden';
</script>
<li><a href='/blog/cats/blog~octopress/?opendiv=blog'>octopress</a><a href='##' onmousedown=showDiv('blog~octopress') id='aexp_blog~octopress'><span class='exp_style' id='exp_blog~octopress'>[+]</span></a><span class='right_span'>5</span></li>
</div><script language='javascript' type='text/javascript'>
if (!document.getElementById('blog')) document.getElementById('aexp_blog').style.visibility = 'hidden';
if (!document.getElementById('blog~octopress')) document.getElementById('aexp_blog~octopress').style.visibility = 'hidden';
</script>

</ul>
</div>
</body>
</html>
</section>

<section>
<h1>Date Categories</h1>
<head>
</head>
<body>
<div id="menu">
<ul>
<li class='catclass'><a href='/blog/cats/2014/'>2014</a><a href='##' onmousedown=showDiv('2014')><span class='exp_style' id='exp_2014'>[+]</span></a><span class='right_span'>(67)</span></li>
<div id='2014' class='catsub'><li><a href='/blog/cats/2014~12/?opendiv=2014'>2014-12</a><span class='right_span'>3</span></li>
<li><a href='/blog/cats/2014~11/?opendiv=2014'>2014-11</a><span class='right_span'>18</span></li>
<li><a href='/blog/cats/2014~10/?opendiv=2014'>2014-10</a><span class='right_span'>10</span></li>
<li><a href='/blog/cats/2014~09/?opendiv=2014'>2014-09</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2014~08/?opendiv=2014'>2014-08</a><span class='right_span'>14</span></li>
<li><a href='/blog/cats/2014~07/?opendiv=2014'>2014-07</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2014~06/?opendiv=2014'>2014-06</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2014~05/?opendiv=2014'>2014-05</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2014~04/?opendiv=2014'>2014-04</a><span class='right_span'>3</span></li>
<li><a href='/blog/cats/2014~03/?opendiv=2014'>2014-03</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2014~02/?opendiv=2014'>2014-02</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2014~01/?opendiv=2014'>2014-01</a><span class='right_span'>1</span></li>
</div><li class='catclass'><a href='/blog/cats/2013/'>2013</a><a href='##' onmousedown=showDiv('2013')><span class='exp_style' id='exp_2013'>[+]</span></a><span class='right_span'>(31)</span></li>
<div id='2013' class='catsub'><li><a href='/blog/cats/2013~12/?opendiv=2013'>2013-12</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2013~11/?opendiv=2013'>2013-11</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2013~10/?opendiv=2013'>2013-10</a><span class='right_span'>6</span></li>
<li><a href='/blog/cats/2013~09/?opendiv=2013'>2013-09</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2013~08/?opendiv=2013'>2013-08</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2013~06/?opendiv=2013'>2013-06</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2013~05/?opendiv=2013'>2013-05</a><span class='right_span'>5</span></li>
<li><a href='/blog/cats/2013~03/?opendiv=2013'>2013-03</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2013~02/?opendiv=2013'>2013-02</a><span class='right_span'>2</span></li>
</div><li class='catclass'><a href='/blog/cats/2012/'>2012</a><a href='##' onmousedown=showDiv('2012')><span class='exp_style' id='exp_2012'>[+]</span></a><span class='right_span'>(24)</span></li>
<div id='2012' class='catsub'><li><a href='/blog/cats/2012~11/?opendiv=2012'>2012-11</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2012~10/?opendiv=2012'>2012-10</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2012~05/?opendiv=2012'>2012-05</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2012~04/?opendiv=2012'>2012-04</a><span class='right_span'>9</span></li>
<li><a href='/blog/cats/2012~03/?opendiv=2012'>2012-03</a><span class='right_span'>6</span></li>
<li><a href='/blog/cats/2012~02/?opendiv=2012'>2012-02</a><span class='right_span'>4</span></li>
</div><li class='catclass'><a href='/blog/cats/2011/'>2011</a><a href='##' onmousedown=showDiv('2011')><span class='exp_style' id='exp_2011'>[+]</span></a><span class='right_span'>(12)</span></li>
<div id='2011' class='catsub'><li><a href='/blog/cats/2011~12/?opendiv=2011'>2011-12</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~11/?opendiv=2011'>2011-11</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2011~08/?opendiv=2011'>2011-08</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~07/?opendiv=2011'>2011-07</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~06/?opendiv=2011'>2011-06</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~05/?opendiv=2011'>2011-05</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~04/?opendiv=2011'>2011-04</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~03/?opendiv=2011'>2011-03</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2011~01/?opendiv=2011'>2011-01</a><span class='right_span'>1</span></li>
</div><li class='catclass'><a href='/blog/cats/2010/'>2010</a><a href='##' onmousedown=showDiv('2010')><span class='exp_style' id='exp_2010'>[+]</span></a><span class='right_span'>(1)</span></li>
<div id='2010' class='catsub'><li><a href='/blog/cats/2010~07/?opendiv=2010'>2010-07</a><span class='right_span'>1</span></li>
</div><li class='catclass'><a href='/blog/cats/2009/'>2009</a><a href='##' onmousedown=showDiv('2009')><span class='exp_style' id='exp_2009'>[+]</span></a><span class='right_span'>(8)</span></li>
<div id='2009' class='catsub'><li><a href='/blog/cats/2009~12/?opendiv=2009'>2009-12</a><span class='right_span'>1</span></li>
<li><a href='/blog/cats/2009~10/?opendiv=2009'>2009-10</a><span class='right_span'>4</span></li>
<li><a href='/blog/cats/2009~09/?opendiv=2009'>2009-09</a><span class='right_span'>2</span></li>
<li><a href='/blog/cats/2009~07/?opendiv=2009'>2009-07</a><span class='right_span'>1</span></li>
</div>
</ul>
</div>
</body>
</html>
</section>

<section>
<h1>Tags</h1>
<ul class="tag-cloud">
<a style="font-size: 100%" href="/tags/ld-preload/">LD_PRELOAD(1)</a>
<a style="font-size: 100%" href="/tags/thunderbird/">Thunderbird(1)</a>
<a style="font-size: 100%" href="/tags/abrt/">abrt(1)</a>
<a style="font-size: 100%" href="/tags/algorithm/">algorithm(1)</a>
<a style="font-size: 117%" href="/tags/android/">android(2)</a>
<a style="font-size: 100%" href="/tags/binutils/">binutils(1)</a>
<a style="font-size: 100%" href="/tags/centos/">centos(1)</a>
<a style="font-size: 126%" href="/tags/ci/">ci(3)</a>
<a style="font-size: 117%" href="/tags/crash/">crash(2)</a>
<a style="font-size: 117%" href="/tags/dwarf/">dwarf(2)</a>
<a style="font-size: 117%" href="/tags/ftp/">ftp(2)</a>
<a style="font-size: 143%" href="/tags/gdb/">gdb(6)</a>
<a style="font-size: 143%" href="/tags/git/">git(6)</a>
<a style="font-size: 100%" href="/tags/grub/">grub(1)</a>
<a style="font-size: 100%" href="/tags/grubby/">grubby(1)</a>
<a style="font-size: 100%" href="/tags/hello/">hello(1)</a>
<a style="font-size: 100%" href="/tags/hydra/">hydra(1)</a>
<a style="font-size: 150%" href="/tags/judge/">judge(8)</a>
<a style="font-size: 117%" href="/tags/kdump/">kdump(2)</a>
<a style="font-size: 150%" href="/tags/koj/">koj(8)</a>
<a style="font-size: 100%" href="/tags/makedumpfile/">makedumpfile(1)</a>
<a style="font-size: 100%" href="/tags/markdown/">markdown(1)</a>
<a style="font-size: 117%" href="/tags/nvidia/">nvidia(2)</a>
<a style="font-size: 139%" href="/tags/octopress/">octopress(5)</a>
<a style="font-size: 139%" href="/tags/oj/">oj(5)</a>
<a style="font-size: 100%" href="/tags/opcode/">opcode(1)</a>
<a style="font-size: 100%" href="/tags/patch/">patch(1)</a>
<a style="font-size: 100%" href="/tags/reg-exp/">reg_exp(1)</a>
<a style="font-size: 100%" href="/tags/rpm/">rpm(1)</a>
<a style="font-size: 100%" href="/tags/screen/">screen(1)</a>
<a style="font-size: 117%" href="/tags/ssh/">ssh(2)</a>
<a style="font-size: 100%" href="/tags/syslog/">syslog(1)</a>
<a style="font-size: 100%" href="/tags/vim/">vim(1)</a>

</ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/12/04/android-usb-debug/">使用usb进行调试</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/04/compiler-android-kernel/">编译Android的kernel</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/04/compiler-gcc-args/">部分GCC选项</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/27/tools-reg-exp-base/">正则表达式常用字符</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/27/blog-octopress-jekyll/">jekyll的一些全局变量</a>
      </li>
    
  </ul>
</section>
<section>
<h1>Links</h1>
<ul>
	<li>
		<a href=http://hi.baidu.com/abcdxyzk target=_blank>My blog</a>
	</li>
</ul>
</section>

  
<section id="comment_sidebar">
<h1>Recent Comments</h1>

<script type="text/javascript" src="http://abcdxyzk.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=20"></script><a href="http://disqus.com/">Powered by Disqus</a>

</section>


</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - kk -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <a title="Top" href="#" id="scroll2top" style="position: fixed; height: 50px; bottom: 50px; right: 30px; cursor: pointer; z-index: 9999; display: block; opacity: 1;"><img src="/images/scrollup.png"></a>
  <script src="/javascripts/scroll2top.js"></script>
  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253604690'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1253604690' type='text/javascript'%3E%3C/script%3E"));</script>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'abcdxyzk';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>
