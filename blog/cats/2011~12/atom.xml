<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 2011~12 | kk Blog —— 通用基础]]></title>
  <link href="http://abcdxyzk.github.io/blog/cats/2011~12/atom.xml" rel="self"/>
  <link href="http://abcdxyzk.github.io/"/>
  <updated>2014-12-04T23:52:07+08:00</updated>
  <id>http://abcdxyzk.github.io/</id>
  <author>
    <name><![CDATA[kk]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[遍历文件函数 dirent]]></title>
    <link href="http://abcdxyzk.github.io/blog/2011/12/01/lang-c-dirent/"/>
    <updated>2011-12-01T01:34:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2011/12/01/lang-c-dirent</id>
    <content type="html"><![CDATA[<p>引用头文件#include&lt;dirent.h><br/>
结构体说明<br/>
<code>
    struct dirent {　　
        long d_ino; /* inode number 索引节点号 */　　
        off_t d_off; /* offset to this dirent 在目录文件中的偏移 */　　
        unsigned short d_reclen; /* length of this d_name 文件名长 */　　
        unsigned char d_type; /* the type of d_name 文件类型 */　　
        char d_name [NAME_MAX+1]; /* file name (null-terminated) 文件名，最长255字符 */　　
    }
</code>
相关函数<br/>
opendir()，readdir()，closedir();</p>

<p>使用实例
```
    #include &lt;stdio.h>
    #include &lt;string.h>
    #include &lt;dirent.h>
    #include &lt;sys/stat.h></p>

<pre><code>int main()
{
    struct dirent* ent = NULL;
    DIR *pDir;
    pDir=opendir(".");

    while ((ent=readdir(pDir)) != NULL)
    {
        //printf("%d %d\n", ent-&gt;d_reclen, ent-&gt;d_type);
        if (ent-&gt;d_type==8)
        printf("filename: %s\n", ent-&gt;d_name);
    }
    return 0;
}
</code></pre>

<p>```</p>
]]></content>
  </entry>
  
</feed>
